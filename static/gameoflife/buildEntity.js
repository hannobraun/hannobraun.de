(function(){function b(a){this._entity=a||{}}require("spell/common/util/dialect");var a=function(){return new b};a.NO_VALID_COMPONENT_MESSAGE='The object you passed to withComponent isn\'t a valid component object. There are several possible\ncauses for this problem:\n- Did you try to pass a component object directly? This can\'t work. Always use the factory or builder\n  function for the component. For example, you would add a position using spell/base/position, which\n  it position\'s factory method, like this: buildEntity().withComponent( position( x, y ) ).create()\n  If this is a component that you created on your own, you can write your own component factory,\n  using spell/core/component.\n- Did you use a builder function? Maybe you forgot to call build()?\n  When using a builder function (as opposed to a simple factory function), you must always finish the\n  component creation by calling build(). For example, an appearance component can be built like this:\n  buildAppearance( "imageId" ).withZIndex( 4 ).build()\n- If you used a factory method, maybe you passed the method instead of executing it? Check if you\n  forgot "()" after the method name.',b.prototype.__isEntityBuilder__=!0,b.prototype.withComponent=function(c){if(c.name==undefined||c.component==undefined)throw a.NO_VALID_COMPONENT_MESSAGE;var d=this._entity.clone();d[c.name]=c.component;return new b(d)},b.prototype.create=function(){return this._entity},b.prototype.createBlueprint=function(){return this},typeof window=="undefined"?module.exports=a:register("spell/common/core/buildEntity",a)})()