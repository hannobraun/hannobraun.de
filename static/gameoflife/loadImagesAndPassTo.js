(function(){function c(a,b,c){for(imageId in b)if(b.hasOwnProperty(imageId)){var d=b[imageId];if(d.x==undefined||d.y==undefined||d.width==undefined||d.height==undefined)continue;var e=document.createElement("canvas");e.width=d.width,e.height=d.height;var f=e.getContext("2d");f.drawImage(a[imageId],-d.x,-d.y),a[imageId]=e}c(a)}function b(a,b){var d={},e=0;for(imageId in a)a.hasOwnProperty(imageId)&&(d[imageId]=new Image,e++);for(imageId in a)a.hasOwnProperty(imageId)&&(d[imageId].onload=function(){e--,e==0&&c(d,a,b)},d[imageId].src=a[imageId].path)}function a(a,c){b(a,c)}typeof window=="undefined"?module.exports=a:register("spell/browser/rendering/loadImagesAndPassTo",a)})()